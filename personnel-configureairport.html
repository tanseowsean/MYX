<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" href="images/favicon.png" type="image/png" sizes="16x16">
    <title>MYX Baggage Tracking System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-5/css/fontawesome-all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/d5d388fd48.js" crossorigin="anonymous"></script>
</head>

<body>

    <div class="container">

        <!-- Header -->
        <header>
            <div class="logo"><img src="images/logoXS.png" alt=""></div>
            <div class="account">
                <div class="text">
                    Hello, Xuan
                    <a href="#" class="logout">Log Out</a>
                </div>
                <img src="images/user.png" alt="">
            </div>
        </header>
        <!-- /Header -->

        <!-- Menu -->
        <div class="menu">
            <a href="personnel-mainmenu.html" class="item">
                <div class="icon"><img src="images/icon-menu.png" alt=""></div>
                <div class="text">Main Menu</div>
            </a>
            <a href="personnel-checkin.html" class="item">
                <div class="icon"><img src="images/icon-checkin.png" alt=""></div>
                <div class="text">Check In</div>
            </a>
            <a href="personnel-flightsmain.html" class="item">
                <div class="icon"><img src="images/icon-plane.png" alt=""></div>
                <div class="text">Flights</div>
            </a>
            <a href="personnel-configure.html" class="item">
                <div class="icon"><img src="images/icon-gear.png" alt=""></div>
                <div class="text">Configure</div>
            </a>
            <a href="personnel-baggage.html" class="item">
                <div class="icon"><img src="images/icon-luggage.png" alt=""></div>
                <div class="text">Baggage</div>
            </a>
            <a href="personnel-analytics.html" class="item">
                <div class="icon"><img src="images/icon-data-analytics.png" alt=""></div>
                <div class="text">Analytics</div>
            </a>
        </div>
        <!-- /Menu -->

        <!-- Hamburger -->
        <div class="hamburger">
            <img src="images/hamburger.png" alt=""> MENU
        </div>
        <!--/Hamburger -->

        <!-- Mobile Menu -->
        <div class="mobile-menu">
            <a href="personnel-mainmenu.html" class="item">
                <div class="icon"><img src="images/icon-menu.png" alt=""></div>
                <div class="text">Main Menu</div>
            </a>
            <a href="personnel-checkin.html" class="item">
                <div class="icon"><img src="images/icon-checkin.png" alt=""></div>
                <div class="text">Check In</div>
            </a>
            <a href="personnel-flightsmain.html" class="item">
                <div class="icon"><img src="images/icon-plane.png" alt=""></div>
                <div class="text">Flights</div>
            </a>
            <a href="personnel-configure.html" class="item">
                <div class="icon"><img src="images/icon-gear.png" alt=""></div>
                <div class="text">Configure</div>
            </a>
            <a href="personnel-baggage.html" class="item">
                <div class="icon"><img src="images/icon-luggage.png" alt=""></div>
                <div class="text">Baggage</div>
            </a>
            <a href="personnel-analytics.html" class="item">
                <div class="icon"><img src="images/icon-data-analytics.png" alt=""></div>
                <div class="text">Analytics</div>
            </a>
            <div class="close"><img src="images/close.png" alt=""></div>
        </div>
        <!-- /Mobile Menu -->

        <!-- Content-Area -->
        <div class="content">

            <!-- display configurations settings -->
            <div id="airportNameText" class="main-title"></div>
            <div class="table-wrapper">
                <table class="pTable" cellspacing="0" cellpadding="0" width="100%">
                    <thead>
                        <th>No.</th>
                        <th>Configuration ID</th>
                        <th>Configuration Type</th>
                        <th>Configuration Points</th>
                        <th>Delete</th>
                    </thead>
                    <tbody id="tbodyFlights"></tbody>
                </table>
            </div>
            <!-- display configurations settings -->

            <!-- <div class="main-title">
                Departures
            </div>
            <button class="roundBtn"><i class="fa fa-plus"></i></button>

            <div class="main-title">
                Arrivals
            </div> -->
            <!-- /display configuration settings -->
        </div>
        <!-- /Content-Area -->

        <!-- Footer -->
        <footer>
            <div class="logo">
                <img src="images/logo-wt.png" alt="">
            </div>
            <div class="copyright">
                Copyright Â© MYX Baggage Tracking System 2023 All Rights Reserved.
            </div>
        </footer>
        <!-- /Footer -->

    </div>

    <!-- <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-firestore.js"></script>

    <script id="firebaseScript">
        const firebaseConfig = {
            apiKey: "AIzaSyAsIlkYQFu9rExzhdpG5HHfnhEI66Unj-4",
            authDomain: "myx-baggage.firebaseapp.com",
            projectId: "myx-baggage",
            storageBucket: "myx-baggage.appspot.com",
            messagingSenderId: "342593572959",
            appId: "1:342593572959:web:4eac93d796cfa787000bea",
            measurementId: "G-5SKV7NKZY1"
        };

        firebase.initializeApp(firebaseConfig);
        let db = firebase.firestore();

        //function to update data in real time whenever there are changes in database record
        function getAllDataRealtime() {
            db.collection("airports").onSnapshot((querySnapshot) => {
                var airports = [];
                var allID = [];
                querySnapshot.forEach(doc => {
                    airports.push(doc.data());
                    allID.push(doc.id);
                });
                addAllItemToTable(allID, airports);
            });
        }

        //function to display data on website page table
        var airportNo = 0;
        var tbody = document.getElementById('tbodyAirports');

        function addItemToTable(airportID, airportName, airportState) {
            var trow = document.createElement('tr');
            var td1 = document.createElement('td');
            var td2 = document.createElement('td');
            var td3 = document.createElement('td');
            var td4 = document.createElement('td');

            td1.innerHTML = ++airportNo;
            td2.innerHTML = airportID;
            td3.innerHTML = airportName;
            td4.innerHTML = airportState;

            trow.appendChild(td1);
            trow.appendChild(td2);
            trow.appendChild(td3);
            trow.appendChild(td4);

            tbody.appendChild(trow);
        }

        function addAllItemToTable(AirportsIDList, AirportsDocList) {
            airportNo = 0;
            tbody.innerHTML = "";
            AirportsDocList.forEach(element => {
                addItemToTable(AirportsIDList[airportNo], element.airportName, element.airportState);
            });
        }

        var table = document.getElementById('tableAirports'), rIndex;

        // for (var i = 1, )

        window.onload = getAllDataRealtime;
    </script> -->

    <script>
        // window.onload = function () {
        //     var url = document.location.href,
        //         params = url.split('?')[1].split('&'),
        //         data = {}, tmp;
        //     for (var i = 0, l = params.length; i < l; i++) {
        //         tmp = params[i].split('=');
        //         data[tmp[0]] = tmp[1];
        //     }
        //     document.getElementById('airportNameText').innerHTML = data.airportID;

        // }

        window.addEventListener('load', () => {
            const params = (new URL(document.location)).searchParams;
            var aId = params.get('airportID');

            document.getElementById('airportNameText').innerHTML = aId;
        })
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="js/main.js"></script>
</body>

</html>